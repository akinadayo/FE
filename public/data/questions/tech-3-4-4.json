{
  "topicId": "tech-3-4-4",
  "title": "ネットワーク応用",
  "questions": [
    {
      "id": "tech-3-4-4-q1",
      "type": "multiple_choice",
      "question": "IPv4アドレスのクラスCにおいて、デフォルトのサブネットマスクを使用した場合、1つのネットワークに接続できるホスト数として正しいものはどれか？",
      "options": [
        "126台",
        "254台",
        "510台",
        "1022台"
      ],
      "correctAnswer": 1,
      "explanation": "「254台」が正しいです。クラスCのIPアドレスは、ネットワーク部が24ビット、ホスト部が8ビットです。ホスト数は、2^8 - 2 = 256 - 2 = 254台になります。ホスト数から2を引くのは、①ホスト部が全て0のアドレス（例: 192.168.1.0）はネットワークアドレス（ネットワーク自体を表す）、②ホスト部が全て1のアドレス（例: 192.168.1.255）はブロードキャストアドレス（ネットワーク内の全コンピュータにデータを送信）、のため使用できないからです。選択肢①126台はクラスAの/25（サブネット分割後）、③510台は/23、④1022台は/22のホスト数です。"
    },
    {
      "id": "tech-3-4-4-q2",
      "type": "multiple_choice",
      "question": "IPアドレス192.168.10.130、サブネットマスク255.255.255.0のコンピュータが属するネットワークアドレスはどれか？",
      "options": [
        "192.168.0.0",
        "192.168.10.0",
        "192.168.10.128",
        "192.168.10.130"
      ],
      "correctAnswer": 1,
      "explanation": "「192.168.10.0」が正しいです。ネットワークアドレスは、IPアドレスとサブネットマスクの論理積（AND演算）で計算します。\n\n①IPアドレスを2進数に変換:\n192.168.10.130 → 11000000.10101000.00001010.10000010\n\n②サブネットマスクを2進数に変換:\n255.255.255.0 → 11111111.11111111.11111111.00000000\n\n③AND演算:\n  11000000.10101000.00001010.10000010（IPアドレス）\nAND 11111111.11111111.11111111.00000000（サブネットマスク）\n= 11000000.10101000.00001010.00000000\n\n④2進数を10進数に変換:\n11000000.10101000.00001010.00000000 → 192.168.10.0\n\nサブネットマスク255.255.255.0（/24）は、最初の24ビット（192.168.10）がネットワーク部、残りの8ビット（130）がホスト部なので、ネットワークアドレスは192.168.10.0になります。選択肢①は第3オクテットも0にしている、③はホスト部の先頭ビットを残している、④はホスト部をそのまま残している、という誤りがあります。"
    },
    {
      "id": "tech-3-4-4-q3",
      "type": "multiple_choice",
      "question": "CIDR記法で「192.168.1.0/26」と表記されるネットワークについて、1つのネットワークに接続できるホスト数として正しいものはどれか？",
      "options": [
        "30台",
        "62台",
        "126台",
        "254台"
      ],
      "correctAnswer": 1,
      "explanation": "「62台」が正しいです。CIDR記法の/26は、ネットワーク部が26ビット、ホスト部が6ビット（32 - 26 = 6）であることを示します。ホスト数は、2^6 - 2 = 64 - 2 = 62台になります。ホスト数から2を引くのは、ネットワークアドレスとブロードキャストアドレスを除くためです。\n\n【各CIDR記法のホスト数】\n- /30: 2^2 - 2 = 2台（ルータ間の接続）\n- /27: 2^5 - 2 = 30台\n- /26: 2^6 - 2 = 62台\n- /25: 2^7 - 2 = 126台\n- /24: 2^8 - 2 = 254台\n\n選択肢①30台は/27、③126台は/25、④254台は/24のホスト数です。プレフィックス長が大きくなるほど、ホスト数は減ります（ネットワーク部が長くなり、ホスト部が短くなるため）。"
    },
    {
      "id": "tech-3-4-4-q4",
      "type": "multiple_choice",
      "question": "ネットワーク192.168.1.0/24を4つのサブネットに分割したい。各サブネットのサブネットマスクとして正しいものはどれか？",
      "options": [
        "255.255.255.0",
        "255.255.255.128",
        "255.255.255.192",
        "255.255.255.224"
      ],
      "correctAnswer": 2,
      "explanation": "「255.255.255.192」が正しいです。4つのサブネットに分割するには、2^x ≥ 4を満たす最小のxを求めます。2^2 = 4なので、x = 2です。元のプレフィックス長/24に2を加えると、/24 + 2 = /26になります。/26のサブネットマスクは255.255.255.192です。\n\n【計算】\n①元のネットワーク: 192.168.1.0/24\n②4つのサブネットに分割: 2^2 = 4、プレフィックス長を+2\n③新しいサブネットマスク: /26（255.255.255.192）\n④各サブネットのホスト数: 2^6 - 2 = 62台\n\n【2進数での確認】\n255.255.255.192を2進数に変換すると、11111111.11111111.11111111.11000000です。ネットワーク部は26ビット（先頭26個の1）、ホスト部は6ビット（残り6個の0）です。\n\n選択肢①255.255.255.0は/24（分割前）、②255.255.255.128は/25（2サブネット）、④255.255.255.224は/27（8サブネット）です。"
    },
    {
      "id": "tech-3-4-4-q5",
      "type": "multiple_choice",
      "question": "プライベートIPアドレスとして使用できる範囲として「誤っている」ものはどれか？",
      "options": [
        "10.0.0.0～10.255.255.255",
        "172.16.0.0～172.31.255.255",
        "192.168.0.0～192.168.255.255",
        "193.0.0.0～193.255.255.255"
      ],
      "correctAnswer": 3,
      "explanation": "「193.0.0.0～193.255.255.255」が誤っています。これはグローバルIPアドレスの範囲です。プライベートIPアドレスとして使用できる範囲は、RFC 1918で定義されており、以下の3つの範囲のみです。\n\n【プライベートIPアドレスの範囲】\n①クラスA: 10.0.0.0～10.255.255.255（10.0.0.0/8）\n  - 約1,677万台のホスト\n  - 大規模組織で使用\n\n②クラスB: 172.16.0.0～172.31.255.255（172.16.0.0/12）\n  - 約105万台のホスト\n  - 中規模組織で使用\n\n③クラスC: 192.168.0.0～192.168.255.255（192.168.0.0/16）\n  - 約6万5千台のホスト\n  - 家庭や小規模オフィスで使用（最も一般的）\n\n選択肢④の193.0.0.0～193.255.255.255は、クラスCのグローバルIPアドレス範囲（192.0.0.0～223.255.255.255）に含まれますが、プライベートIPアドレスとして使用できるのは192.168.0.0～192.168.255.255のみです。プライベートIPアドレスは、インターネットに直接接続できず、NAT（ネットワークアドレス変換）を使ってグローバルIPアドレスに変換して通信します。"
    },
    {
      "id": "tech-3-4-4-q6",
      "type": "multiple_choice",
      "question": "NAPT（Network Address Port Translation、IPマスカレード）の説明として正しいものはどれか？",
      "options": [
        "プライベートIPアドレスとグローバルIPアドレスを1対1で固定的に変換する技術",
        "複数のグローバルIPアドレスのプールから動的に割り当てる技術",
        "1つのグローバルIPアドレスを複数のプライベートIPアドレスで共有する技術。IPアドレスとポート番号を変換する",
        "IPアドレスをドメイン名に変換する技術"
      ],
      "correctAnswer": 2,
      "explanation": "「1つのグローバルIPアドレスを複数のプライベートIPアドレスで共有する技術。IPアドレスとポート番号を変換する」が正しいです。NAPT（Network Address Port Translation、IPマスカレード）は、1つのグローバルIPアドレスを複数のプライベートIPアドレスで共有する技術です。IPアドレスだけでなく、ポート番号も変換して、複数の内部ホストを識別します。\n\n【NAPTの動作例】\n家庭のWi-Fiルータが、1つのグローバルIPアドレス（203.0.113.100）を使用し、3台のデバイス（PC、スマートフォン、タブレット）がWebサイトにアクセスする場合:\n\n①PC（192.168.1.10:50000）→ 203.0.113.100:10000に変換\n②スマートフォン（192.168.1.20:50001）→ 203.0.113.100:10001に変換\n③タブレット（192.168.1.30:50002）→ 203.0.113.100:10002に変換\n\nポート番号で各デバイスを識別します。Webサーバからのレスポンスを受信したら、ルータがNAPTテーブルを参照して元のIPアドレスとポート番号に変換します。\n\n選択肢①は静的NAT、②は動的NAT、④はDNS（Domain Name System）の説明です。NAPTは、グローバルIPアドレスの節約と、外部からの不正アクセスの防止（内部ネットワークを隠蔽）ができます。家庭用ルータで標準的に使用されています。"
    },
    {
      "id": "tech-3-4-4-q7",
      "type": "multiple_choice",
      "question": "次のサービスとポート番号の組み合わせとして「誤っている」ものはどれか？",
      "options": [
        "HTTP - ポート80番",
        "HTTPS - ポート443番",
        "FTP（制御） - ポート21番",
        "SSH - ポート23番"
      ],
      "correctAnswer": 3,
      "explanation": "「SSH - ポート23番」が誤っています。SSHのポート番号は22番です。ポート23番はTelnetのポート番号です。\n\n【主要サービスのポート番号】\n①FTP: 20番（データ転送）、21番（制御）（TCP）\n②SSH: 22番（TCP）\n③Telnet: 23番（TCP、非推奨）\n④SMTP: 25番（TCP、メール送信）\n⑤DNS: 53番（UDP/TCP）\n⑥HTTP: 80番（TCP）\n⑦POP3: 110番（TCP、メール受信）\n⑧IMAP: 143番（TCP、メール受信）\n⑨HTTPS: 443番（TCP）\n⑩SMTPS: 465番（TCP、暗号化メール送信）\n⑪IMAPS: 993番（TCP、暗号化メール受信）\n⑫POP3S: 995番（TCP、暗号化メール受信）\n\n【SSHとTelnetの違い】\nSSH（Secure Shell、ポート22番）:\n- 通信内容を暗号化\n- 公開鍵認証が使える\n- 現在の標準\n\nTelnet（ポート23番）:\n- 平文で通信（パスワードが盗聴される危険）\n- 現在は非推奨\n\n試験では、HTTP（80番）、HTTPS（443番）、FTP（20/21番）、SSH（22番）、SMTP（25番）、DNS（53番）のポート番号は必須です。"
    },
    {
      "id": "tech-3-4-4-q8",
      "type": "multiple_choice",
      "question": "ポート番号の分類として「誤っている」ものはどれか？",
      "options": [
        "ウェルノウンポート: 0～1023番、よく使われるサービスに予約されたポート番号",
        "登録済みポート: 1024～49151番、特定のアプリケーションが使用するポート番号",
        "動的ポート: 49152～65535番、クライアントが一時的に使用するポート番号",
        "プライベートポート: 1024～2048番、組織内で自由に使用できるポート番号"
      ],
      "correctAnswer": 3,
      "explanation": "「プライベートポート: 1024～2048番、組織内で自由に使用できるポート番号」が誤っています。「プライベートポート」という分類は存在しません。ポート番号は、以下の3つに分類されます。\n\n【ポート番号の分類（0～65535）】\n①ウェルノウンポート（Well-Known Ports、0～1023番）\n- よく使われるサービスに予約されたポート番号\n- IANA（Internet Assigned Numbers Authority）によって管理\n- 管理者権限（root権限）が必要\n- 例: HTTP（80番）、HTTPS（443番）、SSH（22番）\n\n②登録済みポート（Registered Ports、1024～49151番）\n- 特定のアプリケーションが使用するポート番号\n- IANAに登録されている\n- 例: データベース（MySQL: 3306番、PostgreSQL: 5432番）\n\n③動的ポート（Dynamic Ports、49152～65535番）\n- クライアント側で一時的に使用するポート番号\n- エフェメラルポート（Ephemeral Ports）とも呼ばれる\n- 自動的に割り当てられる\n\n選択肢④の1024～2048番は、登録済みポートの一部です。「プライベートポート」という用語は、IPアドレスの「プライベートIPアドレス」と混同しやすいですが、ポート番号には「プライベートポート」という分類はありません。"
    },
    {
      "id": "tech-3-4-4-q9",
      "type": "multiple_choice",
      "question": "電子メールの送受信プロトコルの組み合わせとして正しいものはどれか？",
      "options": [
        "送信: SMTP（ポート25番）、受信: HTTP（ポート80番）",
        "送信: HTTP（ポート80番）、受信: POP3（ポート110番）",
        "送信: SMTP（ポート25番）、受信: POP3（ポート110番）またはIMAP（ポート143番）",
        "送信: FTP（ポート21番）、受信: IMAP（ポート143番）"
      ],
      "correctAnswer": 2,
      "explanation": "「送信: SMTP（ポート25番）、受信: POP3（ポート110番）またはIMAP（ポート143番）」が正しいです。電子メールの送受信では、以下のプロトコルを使用します。\n\n【メール送信】\nSMTP（Simple Mail Transfer Protocol）\n- ポート: 25番（平文）、587番（暗号化、推奨）\n- メールクライアントが送信者のメールサーバにメールを送信\n- メールサーバが受信者のメールサーバにメールを転送\n\n【メール受信】\n①POP3（Post Office Protocol version 3）\n- ポート: 110番（平文）、995番（暗号化、推奨）\n- メールをダウンロードし、サーバから削除\n- 1台のPCのみで使用する場合に適する\n\n②IMAP（Internet Message Access Protocol）\n- ポート: 143番（平文）、993番（暗号化、推奨）\n- メールをサーバに残したまま閲覧\n- 複数デバイス（PC、スマートフォン）で同期できる\n- 現在の主流\n\n【電子メールの送受信フロー】\n①送信者がメールクライアントでメールを作成\n②メールクライアントが、SMTPで送信者のメールサーバにメールを送信\n③送信者のメールサーバが、SMTPで受信者のメールサーバにメールを転送\n④受信者のメールサーバが、メールを受信者のメールボックスに保存\n⑤受信者がメールクライアントを起動し、POP3またはIMAPでメールを受信\n\n選択肢①②④は、HTTP、FTPを使用しており、メールプロトコルではありません。"
    },
    {
      "id": "tech-3-4-4-q10",
      "type": "multiple_choice",
      "question": "HTTPS（HTTP Secure）の説明として「誤っている」ものはどれか？",
      "options": [
        "HTTPにSSL/TLSによる暗号化を追加したプロトコルで、ポート番号443を使用する",
        "通信内容が暗号化されるため、パスワードやクレジットカード番号が盗聴されても解読できない",
        "デジタル証明書により、サーバの正当性を証明し、偽サイトへのアクセスを防ぐ",
        "HTTPよりも通信速度が速く、大量のデータ転送に適している"
      ],
      "correctAnswer": 3,
      "explanation": "「HTTPよりも通信速度が速く、大量のデータ転送に適している」が誤っています。HTTPSは、HTTPに暗号化を追加したプロトコルなので、暗号化・復号の処理が必要になり、HTTPよりも通信速度が若干遅くなります。ただし、HTTP/2、HTTP/3などの最新プロトコルでは、暗号化によるオーバーヘッドが軽減され、HTTPSでも高速な通信が可能になっています。\n\n【HTTPSの3つの機能】\n①通信内容の暗号化（盗聴防止）\n- SSL/TLS（Secure Sockets Layer / Transport Layer Security）でデータを暗号化\n- パスワード、クレジットカード番号などが盗聴されても解読できない\n\n②サーバの正当性を証明（なりすまし防止）\n- デジタル証明書により、サーバの身元を証明\n- 認証局（CA: Certificate Authority）が発行した証明書を使用\n- 偽サイトへのアクセスを防ぐ\n\n③通信内容の改ざん検知\n- 通信途中でデータが改ざんされていないか検証\n- メッセージ認証コード（MAC）を使用\n\n【HTTPとHTTPSの違い】\n①HTTP:\n- ポート番号: 80番\n- 平文通信\n- 盗聴・改ざんの危険がある\n- 現在は非推奨\n\n②HTTPS:\n- ポート番号: 443番\n- 暗号化通信\n- 安全\n- 現在の標準\n\n現在、ほとんどのWebサイトがHTTPSを使用しており、ブラウザはHTTPサイトに「保護されていない通信」という警告を表示します。個人情報やパスワードを扱うWebサイトでは、HTTPSの使用が必須です。"
    }
  ]
}
