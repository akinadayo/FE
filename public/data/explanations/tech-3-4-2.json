{
  "topicId": "tech-3-4-2",
  "title": "ネットワーク機器",
  "pages": [
    {
      "id": 1,
      "title": "ネットワーク機器とOSI参照モデル",
      "sections": [
        {
          "type": "text",
          "content": "**ネットワーク機器**とは、ネットワークを構築・運用するための装置です。各機器は、OSI参照モデルの異なる階層で動作し、それぞれ固有の役割を持ちます。ネットワーク機器を理解するには、どの階層で動作するかを把握することが重要です。主なネットワーク機器として、①**リピータ**（物理層）、②**ハブ**（物理層）、③**ブリッジ**（データリンク層）、④**スイッチングハブ**（データリンク層）、⑤**ルータ**（ネットワーク層）、⑥**ゲートウェイ**（全階層）、があります。"
        },
        {
          "type": "table",
          "headers": ["OSI階層", "ネットワーク機器", "主な機能", "扱う情報"],
          "rows": [
            ["第7層（アプリケーション層）\n第6層（プレゼンテーション層）\n第5層（セッション層）\n第4層（トランスポート層）", "ゲートウェイ", "プロトコル変換、データ形式変換", "アプリケーションデータ"],
            ["第3層（ネットワーク層）", "ルータ", "異なるネットワーク間のデータ転送、経路選択", "IPアドレス（パケット）"],
            ["第2層（データリンク層）", "ブリッジ、スイッチングハブ", "同一ネットワーク内のデータ転送、MACアドレス学習", "MACアドレス（フレーム）"],
            ["第1層（物理層）", "リピータ、ハブ", "電気信号の増幅・中継、全ポートに信号をブロードキャスト", "電気信号（ビット列）"]
          ]
        },
        {
          "type": "text",
          "content": "**OSI参照モデルとネットワーク機器の関係**：下位層の機器（リピータ、ハブ）は単純な信号の中継のみを行い、上位層の機器（ルータ、ゲートウェイ）はデータの内容を解析して高度な処理を行います。例えば、リピータは電気信号を増幅するだけですが、ルータはIPアドレスを見て最適な経路を選択します。階層が上がるほど、機器の機能は高度になり、処理時間も長くなります。"
        },
        {
          "type": "example",
          "title": "具体例：オフィスLANの構成",
          "content": "【背景】\nある企業のオフィスLANは、①フロア内の複数のパソコンをスイッチングハブで接続、②各フロアのスイッチングハブをルータで接続、③ルータを介してインターネットに接続、という構成になっています。\n\n【各機器の役割】\n①スイッチングハブ（データリンク層）：\n  - フロア内のパソコン（PC1～PC10）を接続\n  - 各パソコンのMACアドレスを学習し、宛先のパソコンにのみデータを転送\n  - 例: PC1からPC2へのデータは、スイッチングハブがPC2のポートにのみ転送（他のパソコンには転送しない）\n\n②ルータ（ネットワーク層）：\n  - 1階のLAN（192.168.1.0/24）と2階のLAN（192.168.2.0/24）を接続\n  - IPアドレスを見て、データを適切なネットワークに転送\n  - 例: 1階のPC1（192.168.1.10）から2階のPC20（192.168.2.20）へのデータは、ルータが2階のLANに転送\n  - インターネットへのデータは、ルータがプロバイダのネットワークに転送\n\n③ゲートウェイ（全階層）：\n  - 社内のメールサーバ（SMTP）とインターネットのメールサーバ（異なるプロトコル）を接続\n  - プロトコル変換、データ形式変換を実行"
        },
        {
          "type": "highlight",
          "icon": "💡",
          "title": "ネットワーク機器選択の基準",
          "content": "ネットワークを構築する際、目的に応じて適切な機器を選択します。①同一ネットワーク内で複数のパソコンを接続したい → スイッチングハブ、②異なるネットワーク（フロア間、インターネット）を接続したい → ルータ、③信号が弱くなった場合に増幅したい → リピータ、④異なるプロトコルのネットワークを接続したい → ゲートウェイ、という基準で選択します。現在の企業LANでは、スイッチングハブとルータが最も多く使われています。"
        }
      ]
    },
    {
      "id": 2,
      "title": "物理層の機器：リピータとハブ",
      "sections": [
        {
          "type": "text",
          "content": "**リピータ（Repeater）**とは、OSI参照モデルの第1層（物理層）で動作する機器で、ネットワークケーブルを伝送する電気信号を増幅・中継します。信号は伝送距離が長くなると減衰（弱くなる）するため、リピータで増幅することで、より遠くまでデータを届けられます。リピータは、信号の内容（データ）を解析せず、単純に電気信号を増幅して次のケーブルに送信します。例えば、イーサネットのケーブル（ツイストペアケーブル）の最大伝送距離は100mですが、リピータを使うことで200m、300mと延長できます。"
        },
        {
          "type": "example",
          "title": "リピータの具体例：長距離LAN接続",
          "content": "【背景】\nある工場で、事務所（建物A）と製造棟（建物B）を接続したいが、距離が150mあります。イーサネットケーブルの最大伝送距離は100mなので、直接接続すると信号が減衰して通信できません。\n\n【解決策】\n①事務所と製造棟の中間地点（75m地点）にリピータを設置\n②事務所からリピータまで75mのケーブル、リピータから製造棟まで75mのケーブルを接続\n③リピータが電気信号を増幅して中継 → 製造棟まで信号が届く\n\n【リピータの動作】\n①事務所のパソコンがデータ（ビット列: 10110101...）を送信\n②75m地点で信号が減衰（波形が弱くなる）\n③リピータが信号を受信し、元の波形に増幅して再送信\n④製造棟のパソコンが正しいデータを受信\n\n【注意点】\nリピータは信号を増幅するだけで、データの内容を解析しません。そのため、ノイズ（雑音）も一緒に増幅されます。リピータを多段接続すると、ノイズが蓄積してデータエラーが発生する可能性があります。"
        },
        {
          "type": "text",
          "content": "**ハブ（Hub、リピータハブ）**とは、OSI参照モデルの第1層（物理層）で動作する機器で、複数のパソコンやネットワーク機器を接続します。ハブは、あるポート（接続口）から受信した信号を、全てのポートにブロードキャスト（送信）します。リピータと同様、信号の内容を解析せず、単純に信号を複製して送信します。例えば、4ポートのハブに、パソコンA、B、C、Dを接続した場合、パソコンAがデータを送信すると、ハブはパソコンB、C、Dの全てにデータを送信します。"
        },
        {
          "type": "example",
          "title": "ハブの具体例と問題点",
          "content": "【背景】\n小規模オフィスで、4台のパソコン（PC1～PC4）を4ポートのハブで接続しています。\n\n【ハブの動作】\n①PC1がPC2にデータを送信（宛先: PC2のMACアドレス）\n②ハブは、PC1から受信したデータを、PC2、PC3、PC4の全てに送信（ブロードキャスト）\n③PC2、PC3、PC4は、全てデータを受信\n④PC2は、宛先が自分のMACアドレスなので、データを処理\n⑤PC3、PC4は、宛先が自分のMACアドレスでないので、データを破棄\n\n【ハブの問題点】\n①不要なデータが全てのパソコンに送信される → ネットワーク全体のトラフィック（通信量）が増加\n②セキュリティリスク: PC3、PC4は、本来受信すべきでないPC1→PC2のデータを受信できる（パケット盗聴の可能性）\n③コリジョン（衝突）: 複数のパソコンが同時にデータを送信すると、信号が衝突してデータエラーが発生\n\n【解決策】\nスイッチングハブ（データリンク層）を使用すると、宛先のパソコンにのみデータを転送でき、これらの問題を解決できます。現在の企業LANでは、ハブはほとんど使われず、スイッチングハブが主流です。"
        },
        {
          "type": "table",
          "headers": ["機器", "動作階層", "機能", "メリット", "デメリット"],
          "rows": [
            ["リピータ", "物理層", "電気信号の増幅・中継", "伝送距離を延長できる", "ノイズも増幅、多段接続不可"],
            ["ハブ", "物理層", "複数の機器を接続、全ポートにブロードキャスト", "安価、設定不要", "トラフィック増加、セキュリティリスク、コリジョン発生"]
          ]
        },
        {
          "type": "highlight",
          "icon": "📌",
          "title": "リピータとハブの現状",
          "content": "リピータとハブは、OSI参照モデルの物理層で動作し、信号の内容を解析しません。かつては小規模ネットワークで広く使われていましたが、現在は、①スイッチングハブ（データリンク層）：MACアドレスを学習し、宛先のポートにのみ転送、②光ファイバケーブル：リピータなしで数kmの伝送が可能、などの技術が普及し、リピータとハブはほとんど使われなくなりました。基本情報技術者試験では、物理層の機器としてリピータとハブの動作原理を理解しておくことが重要です。"
        }
      ]
    },
    {
      "id": 3,
      "title": "データリンク層の機器：ブリッジとスイッチングハブ",
      "sections": [
        {
          "type": "text",
          "content": "**ブリッジ（Bridge）**とは、OSI参照モデルの第2層（データリンク層）で動作する機器で、複数のLANセグメント（ネットワークの区画）を接続します。ブリッジは、フレーム（データリンク層のデータ単位）のMACアドレス（ハードウェアアドレス）を解析し、宛先のセグメントにのみデータを転送します。ブリッジは、各ポートに接続された機器のMACアドレスを学習し、MACアドレステーブル（学習テーブル）を作成します。これにより、不要なトラフィックを削減し、ネットワーク全体の性能を向上できます。"
        },
        {
          "type": "example",
          "title": "ブリッジの具体例：MACアドレス学習とフィルタリング",
          "content": "【背景】\n2つのLANセグメント（セグメントA、セグメントB）をブリッジで接続しています。\n  - セグメントA: PC1（MAC: AA:AA:AA:AA:AA:AA）、PC2（MAC: BB:BB:BB:BB:BB:BB）\n  - セグメントB: PC3（MAC: CC:CC:CC:CC:CC:CC）、PC4（MAC: DD:DD:DD:DD:DD:DD）\n\n【ブリッジの動作】\n\n①初期状態（MACアドレステーブルが空）:\n  - PC1がPC3にデータを送信（宛先: CC:CC:CC:CC:CC:CC）\n  - ブリッジは、PC1のMACアドレス（AA:AA:AA:AA:AA:AA）をセグメントAとして学習\n  - 宛先（CC:CC:CC:CC:CC:CC）の位置が不明なため、セグメントBに転送（フラッディング）\n  - MACアドレステーブル: {AA:AA:AA:AA:AA:AA → セグメントA}\n\n②学習後（MACアドレステーブルが蓄積）:\n  - PC3がPC1にデータを返信（宛先: AA:AA:AA:AA:AA:AA）\n  - ブリッジは、PC3のMACアドレス（CC:CC:CC:CC:CC:CC）をセグメントBとして学習\n  - MACアドレステーブルを参照 → 宛先（AA:AA:AA:AA:AA:AA）はセグメントA → セグメントAに転送\n  - MACアドレステーブル: {AA:AA:AA:AA:AA:AA → セグメントA, CC:CC:CC:CC:CC:CC → セグメントB}\n\n③フィルタリング（不要なデータを転送しない）:\n  - PC1がPC2にデータを送信（宛先: BB:BB:BB:BB:BB:BB）\n  - ブリッジは、送信元（AA:AA:AA:AA:AA:AA）と宛先（BB:BB:BB:BB:BB:BB）が両方ともセグメントAにあることを認識\n  - セグメントBには転送しない（フィルタリング） → セグメントBのトラフィックが削減\n\n【ブリッジの効果】\nセグメントAとセグメントB間の不要なトラフィックを削減し、各セグメントの通信速度を向上できます。"
        },
        {
          "type": "text",
          "content": "**スイッチングハブ（Switching Hub、レイヤ2スイッチ）**とは、OSI参照モデルの第2層（データリンク層）で動作する機器で、ブリッジの機能を高速化・多ポート化したものです。スイッチングハブは、各ポートに接続された機器のMACアドレスを学習し、宛先のポートにのみデータを転送します。ハブ（物理層）と異なり、全ポートにブロードキャストせず、宛先のポートにのみ転送するため、①ネットワーク全体のトラフィックが削減、②セキュリティが向上（他のポートにデータが送信されない）、③コリジョン（衝突）が発生しない、などの利点があります。現在の企業LANでは、スイッチングハブが最も多く使われています。"
        },
        {
          "type": "example",
          "title": "スイッチングハブの具体例：MACアドレステーブルによる転送",
          "content": "【背景】\n8ポートのスイッチングハブに、8台のパソコン（PC1～PC8）を接続しています。\n  - ポート1: PC1（MAC: 11:11:11:11:11:11）\n  - ポート2: PC2（MAC: 22:22:22:22:22:22）\n  - ポート3: PC3（MAC: 33:33:33:33:33:33）\n  - ...（以下同様）\n\n【スイッチングハブの動作】\n\n①MACアドレス学習:\n  - PC1がデータを送信（送信元: 11:11:11:11:11:11）\n  - スイッチングハブは、ポート1にPC1（11:11:11:11:11:11）が接続されていることを学習\n  - MACアドレステーブル: {11:11:11:11:11:11 → ポート1}\n\n②データ転送（宛先のポートにのみ転送）:\n  - PC1がPC3にデータを送信（宛先: 33:33:33:33:33:33）\n  - スイッチングハブは、MACアドレステーブルを参照 → 宛先（33:33:33:33:33:33）はポート3\n  - ポート3にのみデータを転送 → PC3がデータを受信\n  - ポート2、4～8には転送しない → PC2、PC4～PC8はデータを受信しない\n\n③並列通信（複数の通信を同時実行）:\n  - PC1→PC3の通信と、PC2→PC4の通信を同時実行\n  - スイッチングハブは、ポート1→ポート3、ポート2→ポート4の2つの通信を並列処理\n  - ハブ（物理層）では、同時に1つの通信しかできない（コリジョン発生）が、スイッチングハブでは複数の通信を同時実行できる\n\n【スイッチングハブのメリット】\n①トラフィック削減: 宛先のポートにのみ転送 → ネットワーク全体の通信量が削減\n②セキュリティ向上: 他のポートにデータが送信されない → パケット盗聴のリスクが低減\n③高速通信: 複数の通信を並列処理 → 全体の通信速度が向上"
        },
        {
          "type": "table",
          "headers": ["機器", "動作階層", "扱う情報", "転送先の決定方法", "用途"],
          "rows": [
            ["ブリッジ", "データリンク層", "MACアドレス（フレーム）", "MACアドレステーブルを参照し、宛先のセグメントに転送", "複数のLANセグメントを接続"],
            ["スイッチングハブ", "データリンク層", "MACアドレス（フレーム）", "MACアドレステーブルを参照し、宛先のポートにのみ転送", "同一ネットワーク内で複数の機器を接続"]
          ]
        },
        {
          "type": "highlight",
          "icon": "🔧",
          "title": "ブリッジとスイッチングハブの違い",
          "content": "ブリッジとスイッチングハブは、どちらもデータリンク層で動作し、MACアドレスを学習して転送しますが、①ポート数: ブリッジは2～4ポート、スイッチングハブは8～48ポート、②処理速度: スイッチングハブの方が高速（専用ハードウェアで処理）、③用途: ブリッジは複数のLANセグメントを接続、スイッチングハブは同一ネットワーク内で複数の機器を接続、という違いがあります。現在は、スイッチングハブがブリッジの役割も兼ねており、ブリッジは単体ではほとんど使われません。"
        }
      ]
    },
    {
      "id": 4,
      "title": "ネットワーク層の機器：ルータ",
      "sections": [
        {
          "type": "text",
          "content": "**ルータ（Router）**とは、OSI参照モデルの第3層（ネットワーク層）で動作する機器で、異なるネットワーク間でデータを転送します。ルータは、パケット（ネットワーク層のデータ単位）のIPアドレスを解析し、最適な経路（ルート）を選択してデータを転送します。ルータは、ルーティングテーブル（経路表）を持ち、宛先のIPアドレスに応じて、どのネットワークにデータを転送するかを決定します。例えば、企業LANとインターネット、1階のLANと2階のLAN、などの異なるネットワークを接続する際にルータを使用します。"
        },
        {
          "type": "example",
          "title": "ルータの具体例：異なるネットワーク間の接続",
          "content": "【背景】\nある企業で、1階のLAN（192.168.1.0/24）と2階のLAN（192.168.2.0/24）をルータで接続しています。\n  - 1階のLAN:\n    - PC1: 192.168.1.10\n    - PC2: 192.168.1.20\n    - ルータのポート1: 192.168.1.1（デフォルトゲートウェイ）\n  - 2階のLAN:\n    - PC3: 192.168.2.10\n    - PC4: 192.168.2.20\n    - ルータのポート2: 192.168.2.1（デフォルトゲートウェイ）\n\n【ルータの動作】\n\n①同一ネットワーク内の通信（ルータを経由しない）:\n  - PC1（192.168.1.10）がPC2（192.168.1.20）にデータを送信\n  - PC1は、宛先（192.168.1.20）が同一ネットワーク内にあることを認識（サブネットマスク255.255.255.0で判断）\n  - スイッチングハブを経由して、PC2に直接データを転送 → ルータは関与しない\n\n②異なるネットワーク間の通信（ルータを経由）:\n  - PC1（192.168.1.10）がPC3（192.168.2.10）にデータを送信\n  - PC1は、宛先（192.168.2.10）が異なるネットワークにあることを認識\n  - デフォルトゲートウェイ（192.168.1.1）にデータを送信\n  - ルータは、パケットのIPアドレス（宛先: 192.168.2.10）を解析\n  - ルーティングテーブルを参照:\n    宛先ネットワーク: 192.168.2.0/24 → ポート2に転送\n  - ルータのポート2から、2階のLANにデータを転送\n  - 2階のスイッチングハブが、PC3にデータを転送\n\n③インターネットへの通信（ルータを経由）:\n  - PC1（192.168.1.10）がインターネットのWebサーバ（203.0.113.10）にアクセス\n  - PC1は、デフォルトゲートウェイ（192.168.1.1）にデータを送信\n  - ルータは、パケットのIPアドレス（宛先: 203.0.113.10）を解析\n  - ルーティングテーブルを参照:\n    宛先ネットワーク: 0.0.0.0/0（デフォルトルート、全ての宛先） → インターネット側のポートに転送\n  - ルータは、NAT（ネットワークアドレス変換）を実行し、送信元IPアドレスを192.168.1.10からグローバルIPアドレス（例: 203.0.113.1）に変換\n  - インターネットのプロバイダのネットワークにデータを転送"
        },
        {
          "type": "table",
          "headers": ["ルータの機能", "説明", "具体例"],
          "rows": [
            ["経路選択（ルーティング）", "ルーティングテーブルを参照し、最適な経路を選択", "宛先ネットワーク192.168.2.0/24 → ポート2に転送"],
            ["異なるネットワークの接続", "異なるネットワーク（異なるIPアドレス範囲）を接続", "1階のLAN（192.168.1.0/24）と2階のLAN（192.168.2.0/24）を接続"],
            ["NAT/IPマスカレード", "プライベートIPアドレスとグローバルIPアドレスを相互変換", "社内LAN（192.168.1.0/24）とインターネット（グローバルIP）を接続"],
            ["ブロードキャストの遮断", "ブロードキャスト（全機器に送信）を転送しない", "1階のLANのブロードキャストは2階のLANに転送されない → トラフィック削減"]
          ]
        },
        {
          "type": "text",
          "content": "**ルーティングテーブル（経路表）**とは、ルータが持つ、宛先ネットワークと転送先のポート（または次のルータ）の対応表です。ルータは、受信したパケットのIPアドレスを見て、ルーティングテーブルを参照し、どのポートに転送するかを決定します。ルーティングテーブルは、①スタティックルーティング（静的経路設定）：管理者が手動で設定、②ダイナミックルーティング（動的経路設定）：ルータ同士が自動的に経路情報を交換（RIP、OSPF、BGPなどのルーティングプロトコル）、の2つの方法で作成されます。"
        },
        {
          "type": "example",
          "title": "ルーティングテーブルの具体例",
          "content": "【ルータのルーティングテーブル】\n\n| 宛先ネットワーク | サブネットマスク | 次のホップ（転送先） | インタフェース（ポート） |\n|-----------------|----------------|---------------------|------------------------|\n| 192.168.1.0     | 255.255.255.0  | 直接接続             | eth0（ポート1）         |\n| 192.168.2.0     | 255.255.255.0  | 直接接続             | eth1（ポート2）         |\n| 10.0.0.0        | 255.0.0.0      | 192.168.1.254       | eth0（ポート1）         |\n| 0.0.0.0         | 0.0.0.0        | 203.0.113.1         | eth2（インターネット側） |\n\n【ルーティングの動作】\n\n①宛先192.168.1.10のパケット:\n  - ルーティングテーブルを参照 → 192.168.1.0/24にマッチ → eth0（ポート1）に転送\n\n②宛先192.168.2.20のパケット:\n  - ルーティングテーブルを参照 → 192.168.2.0/24にマッチ → eth1（ポート2）に転送\n\n③宛先10.0.0.5のパケット:\n  - ルーティングテーブルを参照 → 10.0.0.0/8にマッチ → 次のホップ（192.168.1.254）に転送\n\n④宛先203.0.113.10のパケット（インターネット）:\n  - ルーティングテーブルを参照 → どのエントリにもマッチしない → デフォルトルート（0.0.0.0/0）にマッチ → eth2（インターネット側）に転送\n\n【ルーティングテーブルの作成方法】\n①192.168.1.0/24、192.168.2.0/24: ルータに直接接続されたネットワーク → 自動的に追加\n②10.0.0.0/8: スタティックルーティング（管理者が手動で設定）\n③0.0.0.0/0（デフォルトルート）: スタティックルーティング（管理者が手動で設定）"
        },
        {
          "type": "highlight",
          "icon": "💡",
          "title": "ルータとスイッチングハブの違い",
          "content": "ルータ（ネットワーク層）とスイッチングハブ（データリンク層）は、どちらもデータを転送する機器ですが、動作する階層と役割が異なります。①動作階層: ルータはネットワーク層（IPアドレス）、スイッチングハブはデータリンク層（MACアドレス）、②転送先の決定方法: ルータはルーティングテーブル（IPアドレス）、スイッチングハブはMACアドレステーブル（MACアドレス）、③用途: ルータは異なるネットワーク間の接続、スイッチングハブは同一ネットワーク内の機器接続、④処理内容: ルータは経路選択、NAT、ファイアウォールなど高度な処理、スイッチングハブはMACアドレス学習・転送のみ、という違いがあります。企業LANでは、スイッチングハブで同一フロア内の機器を接続し、ルータで異なるフロアやインターネットを接続する構成が一般的です。"
        }
      ]
    },
    {
      "id": 5,
      "title": "全階層の機器：ゲートウェイとその他の機器",
      "sections": [
        {
          "type": "text",
          "content": "**ゲートウェイ（Gateway）**とは、OSI参照モデルの全階層（第1層～第7層）で動作する機器で、異なるプロトコル（通信規約）やアーキテクチャのネットワークを接続します。ゲートウェイは、データの形式やプロトコルを変換し、異なるシステム間での通信を可能にします。例えば、①異なるメールプロトコル（SMTP、POP3、IMAP）の変換、②異なるアプリケーション（Webシステムとレガシーシステム）の接続、③異なるネットワーク（TCP/IPとSNA）の接続、などにゲートウェイを使用します。ルータ（ネットワーク層）が経路選択を行うのに対し、ゲートウェイはプロトコル変換やデータ形式変換を行います。"
        },
        {
          "type": "example",
          "title": "ゲートウェイの具体例：プロトコル変換",
          "content": "【背景】\nある企業で、①社内のメールサーバ（プロトコル: SMTP/POP3）、②インターネットのメールサーバ（プロトコル: SMTP）、③社内のレガシーシステム（プロトコル: 独自プロトコル）、を接続したい場合、ゲートウェイを使用します。\n\n【ゲートウェイの動作】\n\n①メールゲートウェイ（メールプロトコル変換）:\n  - 社内のメールクライアント（POP3）がメールを受信\n  - メールゲートウェイが、POP3プロトコルをSMTPプロトコルに変換\n  - インターネットのメールサーバにメールを転送\n\n②アプリケーションゲートウェイ（アプリケーション間のデータ変換）:\n  - Webシステムがレガシーシステムのデータを取得したい\n  - アプリケーションゲートウェイが、HTTP/RESTリクエストをレガシーシステムの独自プロトコルに変換\n  - レガシーシステムからデータを取得し、JSON形式に変換してWebシステムに返す\n\n③VoIPゲートウェイ（音声通信のプロトコル変換）:\n  - 社内のIP電話（プロトコル: SIP/RTP）と、公衆電話網（プロトコル: PSTN）を接続\n  - VoIPゲートウェイが、音声データをIP電話のデジタル信号（パケット）から、公衆電話網のアナログ信号に変換\n\n【ゲートウェイの特徴】\nゲートウェイは、OSI参照モデルの全階層で動作し、プロトコル変換、データ形式変換、アプリケーション間の連携など、高度な処理を実行します。そのため、処理時間が長く、コストも高い傾向があります。"
        },
        {
          "type": "text",
          "content": "**その他のネットワーク機器**として、①**NIC（ネットワークインタフェースカード）**：パソコンやサーバをネットワークに接続するための拡張カード（物理層・データリンク層）、②**ファイアウォール**：ネットワークのセキュリティを確保するため、不正なアクセスを遮断する機器（ネットワーク層以上）、③**プロキシサーバ**：クライアントの代理としてインターネットにアクセスし、Webページをキャッシュする機器（アプリケーション層）、などがあります。"
        },
        {
          "type": "table",
          "headers": ["機器", "動作階層", "主な機能", "用途"],
          "rows": [
            ["NIC（ネットワークインタフェースカード）", "物理層・データリンク層", "パソコンやサーバをネットワークに接続、MACアドレスを持つ", "全てのネットワーク機器に必須"],
            ["ファイアウォール", "ネットワーク層以上", "パケットフィルタリング、アクセス制御、不正アクセス遮断", "社内LANとインターネットの境界に設置"],
            ["プロキシサーバ", "アプリケーション層", "クライアントの代理でインターネットにアクセス、Webページをキャッシュ", "社内LANからインターネットへのアクセスを中継"]
          ]
        },
        {
          "type": "example",
          "title": "ファイアウォールの具体例：パケットフィルタリング",
          "content": "【背景】\nある企業で、社内LAN（192.168.1.0/24）とインターネットの境界にファイアウォールを設置しています。\n\n【ファイアウォールのルール設定】\n①許可: 社内LANからインターネットへのHTTP（ポート80）、HTTPS（ポート443）、DNS（ポート53）の通信\n②拒否: インターネットから社内LANへの全ての通信（ただし、社内LANからの通信の返信は許可）\n③許可: 特定のIPアドレス（203.0.113.10、取引先）から社内Webサーバ（192.168.1.100）へのHTTPS（ポート443）の通信\n\n【ファイアウォールの動作】\n\n①社内LANからインターネットへのアクセス（許可）:\n  - 社内PC（192.168.1.10）が、インターネットのWebサーバ（203.0.113.50）にHTTPSでアクセス\n  - ファイアウォールは、ルール①を確認 → 許可 → パケットを転送\n  - Webサーバからの返信パケットも許可（ステートフルインスペクション）\n\n②インターネットから社内LANへの不正アクセス（拒否）:\n  - インターネットの攻撃者（198.51.100.20）が、社内PC（192.168.1.10）にSSHでアクセスを試みる\n  - ファイアウォールは、ルール②を確認 → 拒否 → パケットを破棄\n  - 攻撃者は社内LANにアクセスできない\n\n③取引先から社内Webサーバへのアクセス（許可）:\n  - 取引先（203.0.113.10）が、社内Webサーバ（192.168.1.100）にHTTPSでアクセス\n  - ファイアウォールは、ルール③を確認 → 許可 → パケットを転送\n\n【ファイアウォールの効果】\nインターネットからの不正なアクセスを遮断し、社内LANのセキュリティを確保できます。"
        },
        {
          "type": "highlight",
          "icon": "📌",
          "title": "ネットワーク機器の選択基準のまとめ",
          "content": "ネットワークを構築する際、目的に応じて適切な機器を選択します。\n\n①同一ネットワーク内で複数のパソコンを接続 → **スイッチングハブ**（データリンク層、MACアドレス学習・転送）\n\n②異なるネットワーク（フロア間、社内LANとインターネット）を接続 → **ルータ**（ネットワーク層、IPアドレスによる経路選択）\n\n③異なるプロトコルやシステムを接続 → **ゲートウェイ**（全階層、プロトコル変換・データ形式変換）\n\n④セキュリティを確保（不正アクセス遮断） → **ファイアウォール**（ネットワーク層以上、パケットフィルタリング）\n\n⑤インターネットへのアクセスを中継・キャッシュ → **プロキシサーバ**（アプリケーション層）\n\n現在の企業LANでは、スイッチングハブ、ルータ、ファイアウォールの組み合わせが一般的です。各機器の動作階層と機能を理解し、適切に選択・配置することが、効率的で安全なネットワークの構築につながります。"
        }
      ]
    }
  ]
}
