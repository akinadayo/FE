{
  "topicId": "tech-2-2-2",
  "title": "システムの性能",
  "pages": [
    {
      "id": 1,
      "title": "スループットとは",
      "sections": [
        {
          "type": "text",
          "content": "システムの性能を評価する際、最も重要な指標の一つがスループットです。スループットは、システムが単位時間あたりに処理できる仕事量を表します。"
        },
        {
          "type": "highlight",
          "icon": "📝",
          "title": "スループットの定義",
          "content": "スループット = 単位時間あたりの処理件数\n\n例：1時間あたり1000件のトランザクションを処理できる場合、スループットは1000件/時間"
        },
        {
          "type": "example",
          "title": "スループットの具体例",
          "content": "Webサーバの場合：\n・1秒あたり100リクエスト処理 → 100 req/sec\n・1分あたり6000ページビュー → 6000 PV/min\n\nデータベースの場合：\n・1秒あたり500トランザクション → 500 TPS (Transactions Per Second)"
        },
        {
          "type": "text",
          "content": "スループットが高いほど、システムの処理能力が高いことを意味します。ただし、スループットだけでは性能の全体像は把握できません。"
        },
        {
          "type": "highlight",
          "icon": "💡",
          "title": "スループット向上の方法",
          "content": "1. CPUの処理速度を上げる（スケールアップ）\n2. 並列処理を行う（マルチコア、クラスタリング）\n3. I/Oの速度を改善する（SSD、高速ネットワーク）\n4. キャッシュを活用する"
        },
        {
          "type": "table",
          "title": "スループットの単位例",
          "headers": ["分野", "単位", "意味"],
          "rows": [
            ["Webサーバ", "req/sec", "1秒あたりのリクエスト数"],
            ["データベース", "TPS", "1秒あたりのトランザクション数"],
            ["ネットワーク", "Mbps", "1秒あたりの転送ビット数"],
            ["プリンタ", "ppm", "1分あたりの印刷ページ数"]
          ]
        }
      ]
    },
    {
      "id": 2,
      "title": "レスポンスタイム",
      "sections": [
        {
          "type": "text",
          "content": "レスポンスタイムは、ユーザーがシステムに要求を出してから、その結果を受け取るまでの時間です。ユーザー体験に直接影響する重要な性能指標です。"
        },
        {
          "type": "highlight",
          "icon": "📝",
          "title": "レスポンスタイムの定義",
          "content": "レスポンスタイム = 要求発行時刻から応答受信時刻までの時間\n\n＝ 処理時間 + 待ち時間 + 通信時間"
        },
        {
          "type": "example",
          "title": "レスポンスタイムの内訳",
          "content": "Webページの表示例（合計2.5秒）：\n\n・ネットワーク遅延：0.5秒\n・サーバ処理待ち時間：0.8秒\n・サーバ処理時間：0.7秒\n・データ転送時間：0.5秒\n────────────────\nレスポンスタイム：2.5秒"
        },
        {
          "type": "text",
          "content": "レスポンスタイムは、システムの負荷状況によって大きく変動します。負荷が高くなると待ち時間が増加し、レスポンスタイムも悪化します。"
        },
        {
          "type": "table",
          "title": "レスポンスタイムの目安",
          "headers": ["用途", "許容レスポンスタイム", "理由"],
          "rows": [
            ["Web検索", "1秒以内", "ユーザーが待てる限界"],
            ["オンラインゲーム", "100ms以内", "リアルタイム性が必須"],
            ["データベース照会", "3秒以内", "業務効率への影響"],
            ["バッチ処理", "数分～数時間", "リアルタイム性不要"]
          ]
        },
        {
          "type": "highlight",
          "icon": "⚠️",
          "title": "注意点",
          "content": "スループットが高くても、レスポンスタイムが悪い場合があります。\n\n例：100件のリクエストを10秒で処理（スループット10件/秒）する場合\n・並列処理：各リクエストは1秒で完了（レスポンスタイム1秒）\n・直列処理：各リクエストは0.1秒で完了するが、最後のリクエストは10秒待つ（レスポンスタイム最大10秒）"
        }
      ]
    },
    {
      "id": 3,
      "title": "ターンアラウンドタイム",
      "sections": [
        {
          "type": "text",
          "content": "ターンアラウンドタイム（TAT）は、バッチ処理において、ジョブの投入から完了までの全体時間を指します。主にバッチシステムで使用される概念です。"
        },
        {
          "type": "highlight",
          "icon": "📝",
          "title": "ターンアラウンドタイムの定義",
          "content": "ターンアラウンドタイム = ジョブ投入時刻から結果出力完了までの時間\n\n＝ 待ち時間 + 処理時間 + 出力時間"
        },
        {
          "type": "example",
          "title": "ターンアラウンドタイムの具体例",
          "content": "夜間バッチ処理の例：\n\n21:00 ジョブ投入\n22:00 処理開始（待ち時間：1時間）\n24:00 処理完了（処理時間：2時間）\n00:30 レポート出力完了（出力時間：30分）\n\nターンアラウンドタイム = 3時間30分"
        },
        {
          "type": "table",
          "title": "性能指標の比較",
          "headers": ["指標", "測定対象", "主な用途"],
          "rows": [
            ["スループット", "単位時間の処理量", "システム全体の処理能力"],
            ["レスポンスタイム", "1件の応答時間", "対話型システムの快適性"],
            ["ターンアラウンドタイム", "ジョブ完了までの時間", "バッチ処理の効率性"]
          ]
        },
        {
          "type": "highlight",
          "icon": "💡",
          "title": "TATとレスポンスタイムの違い",
          "content": "・レスポンスタイム：対話型システム（リアルタイム）で使用\n・ターンアラウンドタイム：バッチシステム（非リアルタイム）で使用\n\nどちらも「要求から結果までの時間」を測定しますが、適用されるシステムの種類が異なります。"
        }
      ]
    },
    {
      "id": 4,
      "title": "性能評価指標",
      "sections": [
        {
          "type": "text",
          "content": "システムの性能を総合的に評価するには、複数の指標を組み合わせて判断する必要があります。用途に応じて重視する指標が異なります。"
        },
        {
          "type": "table",
          "title": "主な性能評価指標",
          "headers": ["指標", "計算式・定義", "高い方が良い/低い方が良い"],
          "rows": [
            ["スループット", "処理件数 ÷ 時間", "高い方が良い"],
            ["レスポンスタイム", "応答時間の平均", "低い方が良い"],
            ["CPU使用率", "CPU稼働時間 ÷ 全体時間", "適度が良い（100%は過負荷）"],
            ["稼働率", "稼働時間 ÷ 全体時間", "高い方が良い"],
            ["待ち時間", "処理待ちの時間", "低い方が良い"]
          ]
        },
        {
          "type": "highlight",
          "icon": "📝",
          "title": "ベンチマークテスト",
          "content": "システムの性能を客観的に評価するため、標準的な負荷をかけて測定する手法をベンチマークテストと呼びます。\n\n代表的なベンチマーク：\n・TPC（Transaction Processing Performance Council）\n・SPEC（Standard Performance Evaluation Corporation）"
        },
        {
          "type": "example",
          "title": "性能評価の実例",
          "content": "ECサイトのシステム評価：\n\nピーク時の要件：\n・同時アクセス数：10,000ユーザー\n・レスポンスタイム：3秒以内\n・スループット：1,000 req/sec以上\n\n測定結果：\n・レスポンスタイム：2.1秒（合格）\n・スループット：1,200 req/sec（合格）\n・CPU使用率：85%（適正）\n\n→ 性能要件を満たしている"
        },
        {
          "type": "highlight",
          "icon": "💡",
          "title": "性能のトレードオフ",
          "content": "性能指標間にはトレードオフの関係があります：\n\n1. スループット vs レスポンスタイム\n   大量バッチ処理はスループット優先、対話処理はレスポンスタイム優先\n\n2. 処理速度 vs コスト\n   高速なハードウェアはコストが高い\n\n3. 性能 vs 信頼性\n   冗長化により信頼性は上がるが、性能は低下する場合がある"
        }
      ]
    },
    {
      "id": 5,
      "title": "性能改善の手法",
      "sections": [
        {
          "type": "text",
          "content": "システムの性能が要件を満たさない場合、様々な改善手法があります。ボトルネックを特定し、適切な対策を講じることが重要です。"
        },
        {
          "type": "highlight",
          "icon": "📝",
          "title": "性能改善の基本アプローチ",
          "content": "1. ボトルネックの特定\n   どこが遅いかを測定・分析する\n\n2. 対策の実施\n   ・ハードウェアの強化\n   ・ソフトウェアの最適化\n   ・アーキテクチャの見直し\n\n3. 効果の測定\n   改善前後で性能を比較する"
        },
        {
          "type": "table",
          "title": "性能改善手法の例",
          "headers": ["手法", "説明", "効果"],
          "rows": [
            ["キャッシング", "頻繁にアクセスするデータを高速メモリに保持", "アクセス時間短縮"],
            ["インデックス", "データベースに索引を作成", "検索速度向上"],
            ["負荷分散", "複数サーバに処理を分散", "スループット向上"],
            ["非同期処理", "時間のかかる処理を後回しにする", "レスポンスタイム短縮"],
            ["圧縮", "データサイズを小さくする", "転送時間短縮"]
          ]
        },
        {
          "type": "example",
          "title": "性能改善の実例",
          "content": "データベース検索の遅延問題：\n\n【問題】\n・100万件のテーブルから特定の顧客データを検索\n・検索時間：8秒（遅すぎる）\n\n【対策】\n・顧客IDにインデックスを作成\n・よく使うデータをキャッシュ\n\n【結果】\n・検索時間：0.1秒（80倍高速化）\n・スループット：10倍向上"
        },
        {
          "type": "highlight",
          "icon": "✅",
          "title": "試験対策のポイント",
          "content": "1. 3つの性能指標（スループット、レスポンスタイム、ターンアラウンドタイム）の違いを理解する\n2. それぞれの指標がどのシステムで重視されるかを覚える\n3. 性能改善の基本的な手法を押さえる\n4. 性能指標の計算問題に慣れる（例：スループット = 処理件数 ÷ 時間）"
        }
      ]
    }
  ]
}
